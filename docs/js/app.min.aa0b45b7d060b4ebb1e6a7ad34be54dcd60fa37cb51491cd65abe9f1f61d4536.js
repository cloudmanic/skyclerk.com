var app=new Vue({el:'#app',data:{searchTerm:"",siteIndex:[],searchResults:[],showMobileMenu:false,},methods:{loadSiteIndex:function(){let that=this;if(that.searchResults.length>0){return;}
axios.get('index.json').then(function(response){that.siteIndex=response.data;}).catch(function(error){console.log(error);});},doSearch:function(e){let that=this;var options={shouldSort:true,includeMatches:true,threshold:0.4,tokenize:true,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"title",weight:0.8},{name:"contents",weight:0.5},{name:"tags",weight:0.3},{name:"categories",weight:0.3}]}
var fuse=new Fuse(that.siteIndex,options);var results=fuse.search(this.searchTerm);that.searchResults=results;e.preventDefault();},mobileMenuToggle:function(){this.showMobileMenu=!this.showMobileMenu;}},created:function(){this.loadSiteIndex();}});